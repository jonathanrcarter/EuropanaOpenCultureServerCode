windowFunctions["Create File"]=function(){function h(){d.hide();Ti.UI.createProgressBar&&(b.value=0,Cloud.onsendstream=function(a){b.value=0.5*a.progress},Cloud.ondatastream=function(a){b.value=0.5*a.progress+0.5});Cloud.Files.create({name:c.value,file:Titanium.Filesystem.getFile(Ti.Filesystem.resourcesDirectory,"windows/files/"+f.value)},function(a){Cloud.onsendstream=Cloud.ondatastream=null;a.success?(alert("Created!"),c.value=""):error(a);d.show()})}var e=createWindow(),a=addBackButton(e),a=Ti.UI.createScrollView({top:a+
u,contentHeight:"auto",layout:"vertical"});e.add(a);if(Ti.UI.createProgressBar){var b=Ti.UI.createProgressBar({top:10+u,right:10+u,left:10+u,max:1,min:0,value:0,height:25+u});a.add(b);b.show()}var c=Ti.UI.createTextField({hintText:"Name",top:10+u,left:10+u,right:10+u,height:40+u,borderStyle:Ti.UI.INPUT_BORDERSTYLE_ROUNDED});a.add(c);var f=Ti.UI.createTextField({hintText:"File name",top:10+u,left:10+u,right:10+u,height:40+u,borderStyle:Ti.UI.INPUT_BORDERSTYLE_ROUNDED,value:"sampleFile.txt"});a.add(f);
var d=Ti.UI.createButton({title:"Create",top:10+u,left:10+u,right:10+u,bottom:10+u,height:40+u});a.add(d);d.addEventListener("click",h);for(var a=[c,f],g=0;g<a.length;g++)a[g].addEventListener("return",h);e.addEventListener("open",function(){c.focus()});e.open()};