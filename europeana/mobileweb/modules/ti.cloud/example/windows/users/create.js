windowFunctions["Create User"]=function(){function j(){for(var a=0;a<b.length;a++){if(!b[a].value.length){b[a].focus();return}b[a].blur()}d.value!=c.value?(alert("Passwords do not match!"),c.focus()):(f.hide(),Cloud.Users.create({username:e.value,password:d.value,password_confirmation:c.value,first_name:g.value,last_name:h.value},function(a){a.success?(alert("Created! You are now logged in as "+a.users[0].id),e.value=d.value=c.value=g.value=h.value=""):error(a);f.show()}))}var i=createWindow(),a=
addBackButton(i),a=Ti.UI.createScrollView({top:a+u,contentHeight:"auto",layout:"vertical"});i.add(a);var e=Ti.UI.createTextField({hintText:"Username",top:10+u,left:10+u,right:10+u,height:40+u,borderStyle:Ti.UI.INPUT_BORDERSTYLE_ROUNDED,autocapitalization:Ti.UI.TEXT_AUTOCAPITALIZATION_NONE,autocorrect:!1});a.add(e);var d=Ti.UI.createTextField({hintText:"Password",top:10+u,left:10+u,right:10+u,height:40+u,borderStyle:Ti.UI.INPUT_BORDERSTYLE_ROUNDED,passwordMask:!0});a.add(d);var c=Ti.UI.createTextField({hintText:"Confirm Password",
top:10+u,left:10+u,right:10+u,height:40+u,borderStyle:Ti.UI.INPUT_BORDERSTYLE_ROUNDED,passwordMask:!0});a.add(c);var g=Ti.UI.createTextField({hintText:"First Name",top:10+u,left:10+u,right:10+u,height:40+u,borderStyle:Ti.UI.INPUT_BORDERSTYLE_ROUNDED});a.add(g);var h=Ti.UI.createTextField({hintText:"Last Name",top:10+u,left:10+u,right:10+u,height:40+u,borderStyle:Ti.UI.INPUT_BORDERSTYLE_ROUNDED});a.add(h);var f=Ti.UI.createButton({title:"Create",top:10+u,left:10+u,right:10+u,bottom:10+u,height:40+
u});a.add(f);var b=[e,d,c,g,h];f.addEventListener("click",j);for(a=0;a<b.length;a++)b[a].addEventListener("return",j);i.addEventListener("open",function(){e.focus()});i.open()};