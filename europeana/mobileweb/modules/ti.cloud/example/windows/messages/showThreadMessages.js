windowFunctions["Show Messages In Thread"]=function(g){var b=createWindow(),h=addBackButton(b),d=g.id,c=Ti.UI.createTableView({backgroundColor:"#fff",top:h+u,bottom:0,data:[{title:"Loading, please wait..."}]});c.addEventListener("click",function(a){a.row.id?handleOpenWindow({target:"Show Message",id:a.row.id,allowReply:!0}):handleOpenWindow({target:"Remove All Thread Messages",id:d})});b.add(c);b.addEventListener("open",function(){Cloud.Messages.showThread({thread_id:d},function(a){if(a.success)if(0==
a.messages.length)c.setData([{title:"No messages"}]);else{var b=[];b.push({title:"Remove all messages"});for(var f=0,d=a.messages.length;f<d;f++){var e=a.messages[f],e=Ti.UI.createTableViewRow({title:e.subject,id:e.id});b.push(e)}c.setData(b)}else c.setData([{title:a.error&&a.message||a}]),error(a)})});b.open()};