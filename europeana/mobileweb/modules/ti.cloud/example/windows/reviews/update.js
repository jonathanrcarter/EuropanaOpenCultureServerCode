windowFunctions["Update Review"]=function(e){function i(){f.hide();Cloud.Reviews.update({user_id:e.user_id,review_id:e.review_id,content:c.value,rating:g.value},function(a){a.success?alert("Updated!"):error(a);f.show()})}var d=createWindow(),j=addBackButton(d),b=Ti.UI.createScrollView({top:j+u,contentHeight:"auto",layout:"vertical"});d.add(b);var c=Ti.UI.createTextField({hintText:"Content",top:10+u,left:10+u,right:10+u,height:40+u,borderStyle:Ti.UI.INPUT_BORDERSTYLE_ROUNDED});b.add(c);var g=Ti.UI.createSlider({value:5,
min:1,max:5,top:10+u,left:10+u,right:10+u,height:40+u});b.add(g);var f=Ti.UI.createButton({title:"Update",top:10+u,left:10+u,right:10+u,bottom:10+u,height:40+u});b.add(f);f.addEventListener("click",i);for(var b=[c],h=0;h<b.length;h++)b[h].addEventListener("return",i);var k=Ti.UI.createLabel({text:"Loading, please wait...",textAlign:"center",top:j+u,right:0,bottom:0,left:0,backgroundColor:"#fff",zIndex:2});d.add(k);d.addEventListener("open",function(){Cloud.Reviews.show({user_id:e.user_id,review_id:e.review_id},
function(a){k.hide();a.success?(a=a.reviews[0],c.value=a.content,g.value=a.rating,c.focus()):error(a)})});d.open()};