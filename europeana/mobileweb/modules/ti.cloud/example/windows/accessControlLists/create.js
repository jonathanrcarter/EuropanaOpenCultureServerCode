windowFunctions["Create ACL"]=function(){var d=createWindow(),a=addBackButton(d),a=Ti.UI.createScrollView({top:a+u,contentHeight:"auto",layout:"vertical"});d.add(a);var b=Ti.UI.createTextField({hintText:"Name",top:10+u,left:10+u,right:10+u,height:40+u,borderStyle:Ti.UI.INPUT_BORDERSTYLE_ROUNDED,autocapitalization:Ti.UI.TEXT_AUTOCAPITALIZATION_NONE,autocorrect:!1});a.add(b);var f={publicAccess:!1,ids:[]},c=Ti.UI.createButton({title:"Select Readers",top:10+u,left:10+u,right:10+u,bottom:10+u,height:40+
u});c.addEventListener("click",function(){handleOpenWindow({target:"Select Users for ACL",access:f})});a.add(c);var g={publicAccess:!1,ids:[]},c=Ti.UI.createButton({title:"Select Writers",top:0,left:10+u,right:10+u,bottom:10+u,height:40+u});c.addEventListener("click",function(){handleOpenWindow({target:"Select Users for ACL",access:g})});a.add(c);var e=Ti.UI.createButton({title:"Create",top:0,left:10+u,right:10+u,bottom:10+u,height:40+u});e.addEventListener("click",function(){0==b.value.length?b.focus():
(e.hide(),Cloud.ACLs.create({name:b.value,reader_ids:f.ids.join(","),writer_ids:g.ids.join(","),public_read:f.publicAccess,public_write:g.publicAccess},function(a){a.success?alert("Created!"):error(a);e.show()}))});a.add(e);d.addEventListener("open",function(){b.focus()});d.open()};