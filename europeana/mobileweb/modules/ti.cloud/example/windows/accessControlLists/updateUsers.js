windowFunctions["Update Users in ACL"]=function(){var d=createWindow(),b=addBackButton(d),b=Ti.UI.createScrollView({top:b+u,contentHeight:"auto",layout:"vertical"});d.add(b);var c=Ti.UI.createTextField({hintText:"Name",top:10+u,left:10+u,right:10+u,height:40+u,borderStyle:Ti.UI.INPUT_BORDERSTYLE_ROUNDED,autocapitalization:Ti.UI.TEXT_AUTOCAPITALIZATION_NONE,autocorrect:!1});b.add(c);var e={ids:[]},a=Ti.UI.createButton({title:"Select Readers",top:10+u,left:10+u,right:10+u,bottom:10+u,height:40+u});
a.addEventListener("click",function(){handleOpenWindow({target:"Select Users for ACL",access:e})});b.add(a);var f={ids:[]},a=Ti.UI.createButton({title:"Select Writers",top:0,left:10+u,right:10+u,bottom:10+u,height:40+u});a.addEventListener("click",function(){handleOpenWindow({target:"Select Users for ACL",access:f})});b.add(a);a=Ti.UI.createButton({title:"Add Users",top:0,left:10+u,right:10+u,bottom:10+u,height:40+u});a.addEventListener("click",function(){0==c.value.length?c.focus():Cloud.ACLs.addUser({name:c.value,
reader_ids:e.ids.join(","),writer_ids:f.ids.join(",")},function(a){a.success?alert("Added!"):error(a)})});b.add(a);a=Ti.UI.createButton({title:"Remove Users",top:0,left:10+u,right:10+u,bottom:10+u,height:40+u});a.addEventListener("click",function(){Cloud.ACLs.removeUser({name:c.value,reader_ids:e.ids.join(","),writer_ids:f.ids.join(",")},function(a){a.success?alert("Removed!"):error(a)})});b.add(a);d.addEventListener("open",function(){c.focus()});d.open()};