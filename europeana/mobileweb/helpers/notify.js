exports.notifications=[];exports.get=function(){return this.notifications};
exports.getrows=function(){for(var d=(new Date).getTime(),a=require("/ui/common/css"),e=require("/ui/common/globals"),g=[],b=!0,c=this.notifications.length-1;0<=c;c--){var f=Titanium.UI.createTableViewRow({height:100,hasChild:!0,selectionStyle:e.globals.RowSelectionStyle,touchEnabled:!0,className:"control",leftImage:"/images/table/"+this.notifications[c].severity+".png"}),h=Titanium.UI.createView({left:50,right:0,height:100});!0==b&&(f.height=200,b=Titanium.UI.createView({left:0,right:0,height:200}),
h.height=200,b.height=200,b.borderColor="#f00",b.borderRadius=5,b.borderWidth=3,f.add(b),b=!1);h.add(Titanium.UI.createLabel({left:0,top:0,height:20,text:this.notifications[c].text,color:a.blue,font:{fontFamily:a.FONTFAMILY,fontSize:15,fontWeight:"bold"}}));h.add(Titanium.UI.createLabel({left:0,top:20,height:"auto",text:this.notifications[c].msg,color:"#000",font:{fontFamily:a.FONTFAMILY,fontSize:15,fontWeight:"normal"}}));f.add(Titanium.UI.createLabel({right:0,top:0,width:"auto",height:"auto",text:Math.floor((d-
this.notifications[c].ts)/1E3)+"s ago",color:a.blue,font:{fontFamily:a.FONTFAMILY,fontSize:15,fontWeight:"bold"}}));f.add(h);g.push(f)}return g};exports.add=function(d,a,e){this.notifications.push({ts:(new Date).getTime(),text:a,msg:e,severity:d,acknowledged:0})};exports.clear=function(){this.notifications=[]};exports.notify=function(d,a,e){try{this.add(d,a,e),Ti.App.fireEvent("cition_notify",{cition_text:a})}catch(g){Ti.API.debug(g)}};